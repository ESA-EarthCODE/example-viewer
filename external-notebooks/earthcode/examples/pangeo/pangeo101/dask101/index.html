<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Dask 101 - EarthCODE Examples</title><meta property="og:title" content="Dask 101 - EarthCODE Examples"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of examples relevant to the EarthCODE project"/><meta property="og:description" content="Collection of examples relevant to the EarthCODE project"/><meta name="keywords" content=""/><meta name="image" content="/example-viewer/build/8476ef8dfea9da4ad663e93b475cbbe7.svg"/><meta property="og:image" content="/example-viewer/build/8476ef8dfea9da4ad663e93b475cbbe7.svg"/><link rel="stylesheet" href="/example-viewer/build/_assets/app-IZWEOBHI.css"/><link rel="stylesheet" href="/example-viewer/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/example-viewer/favicon.ico"/><link rel="stylesheet" href="/example-viewer/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block lg:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/example-viewer/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] lg:hidden hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center mb-5 h-6 text-sm font-light"><div class="flex-none pr-2 smallcaps">EarthCODE Examples</div><div class="flex-grow"></div><a href="https://github.com/esa-earthcode/example-viewer/" title="GitHub Repository: esa-earthcode/example-viewer/" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><a href="https://github.com/esa-earthcode/example-viewer//edit/main/external_notebooks/earthcode/examples/pangeo/pangeo101/dask101.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Dask 101</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="KBXmEWxSFy" class="relative group/block"><p>We will be using Dask with Xarray to parallelize our data analysis. The analysis is very similar to what we have done in previous examples but this time we will use data on a global coverage that we read from the SeasFire Cube.</p><p>We will learn how to use the EDC Pangeo Dask Gateway to analyse data at scale.</p><h4 id="data" class="relative group"><span class="heading-text">Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>In this workshop, we will be using the <a target="_blank" rel="noreferrer" href="https://opensciencedata.esa.int/products/seasfire-cube/collection" class="">SeasFire Data Cube</a> published to the EarthCODE Open Science Catalog</p><h5 id="related-publications" class="relative group"><span class="heading-text">Related publications</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#related-publications" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><ul><li><p><em>Alonso, Lazaro, Gans, Fabian, Karasante, Ilektra, Ahuja, Akanksha, Prapas, Ioannis, Kondylatos, Spyros, Papoutsis, Ioannis, Panagiotou, Eleannna, Michail, Dimitrios, Cremer, Felix, Weber, Ulrich, &amp; Carvalhais, Nuno. (2022). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.4) [Data set]. Zenodo. <cite class="" data-state="closed"><a href="https://doi.org/10.5281/ZENODO.13834057" target="_blank" rel="noreferrer" class="hover-link">Alonso <em>et al.</em> (2024)</a></cite>. The same dataset can also be downloaded from Zenodo: <a target="_blank" rel="noreferrer" href="https://zenodo.org/records/13834057" class="">https://<wbr/>zenodo<wbr/>.org<wbr/>/records<wbr/>/13834057</a></em></p></li></ul></div><div id="lGAqemGtAF" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import dask.distributed
import xarray</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="UyobUMAXlQN3mHORC6LUz" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left"></div></div><div id="TgQcLyAb6r" class="relative group/block"><h3 id="parallelize-with-dask" class="relative group"><span class="heading-text">Parallelize with Dask</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#parallelize-with-dask" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We know from previous chapter <a target="_blank" rel="noreferrer" href="./cloud-native-formats101.ipynb" class="">cloud native formats 101</a> that chunking is key for analyzing large datasets. In this episode, we will learn to parallelize our data analysis using <a target="_blank" rel="noreferrer" href="https://docs.dask.org/" class="">Dask</a> on our chunked dataset.</p></div><div id="kkZeUqb65K" class="relative group/block"><h4 id="what-is-dask" class="relative group"><span class="heading-text">What is <a target="_blank" rel="noreferrer" href="https://docs.dask.org/" class="">Dask</a> ?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-is-dask" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p><strong>Dask</strong> scales the existing Python ecosystem: with very or no changes in your code, you can speed-up computation using Dask or process bigger than memory datasets.</p><ul><li><p>Dask is a flexible library for parallel computing in Python.</p></li><li><p>It is widely used for handling large and complex Earth Science datasets and speed up science.</p></li><li><p>Dask is powerful, scalable and flexible. It is the leading platform today for data analytics at scale.</p></li><li><p>It scales natively to clusters, cloud, HPC and bridges prototyping up to production.</p></li><li><p>The strength of Dask is that is scales and accelerates the existing Python ecosystem e.g. Numpy, Pandas and Scikit-learn with few effort from end-users.</p></li></ul><p>It is interesting to note that at first, <a target="_blank" rel="noreferrer" href="https://coiled.io/blog/history-dask/" class="">Dask has been created to handle data that is larger than memory, on a single computer</a>. It then was extended with Distributed to compute data in parallel over clusters of computers.</p></div><div id="DkEeypyLGp" class="relative group/block"><h5 id="how-does-dask-scale-and-accelerate-your-data-analysis" class="relative group"><span class="heading-text">How does Dask scale and accelerate your data analysis?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-does-dask-scale-and-accelerate-your-data-analysis" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p><a target="_blank" rel="noreferrer" href="https://docs.dask.org/en/stable/10-minutes-to-dask.html" class="">Dask proposes different abstractions to distribute your computation</a>. In this <em>Dask Introduction</em> section, we will focus on <a target="_blank" rel="noreferrer" href="https://docs.dask.org/en/stable/array.html" class="">Dask Array</a> which is widely used in pangeo ecosystem as a back end of Xarray.</p><p>As shown in the <a target="_blank" rel="noreferrer" href="./chunking_introduction.ipynb" class="">previous section</a> Dask Array is based on chunks.
Chunks of a Dask Array are well-known Numpy arrays. By transforming our big datasets to Dask Array, making use of chunk, a large array is handled as many smaller Numpy ones and we can compute each of these chunks independently.</p><img id="xWRNp3r09x" style="margin:0 auto" src="/example-viewer/build/8476ef8dfea9da4ad663e93b475cbbe7.svg" alt="Dask and Numpy" data-canonical-url="https://examples.dask.org/_images/dask-array-black-text.svg" class=""/></div><div id="ub5tJ4Eic1" class="relative group/block"><h5 id="how-does-xarray-with-dask-distribute-data-analysis" class="relative group"><span class="heading-text">How does Xarray with Dask distribute data analysis?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-does-xarray-with-dask-distribute-data-analysis" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>When we use chunks with <code>Xarray</code>, the real computation is only done when needed or asked for, usually when invoking <code>compute()</code> or <code>load()</code> functions. Dask generates a <strong>task graph</strong> describing the computations to be done. When using <a target="_blank" rel="noreferrer" href="https://distributed.dask.org/en/stable/" class="">Dask Distributed</a> a <strong>Scheduler</strong> distributes these tasks across several <strong>Workers</strong>.</p><img id="oJapUoARKI" style="margin:0 auto" src="/example-viewer/build/dask-xarray-explaine-cf260a335f1f0eee11735b6b623260b4.png" alt="Xarray with da sk" data-canonical-url="../static/dask-xarray-explained.png" class=""/></div><div id="uBndVtStMo" class="relative group/block"><h4 id="what-is-a-dask-distributed-cluster" class="relative group"><span class="heading-text">What is a Dask Distributed cluster ?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-is-a-dask-distributed-cluster" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>A Dask Distributed cluster is made of two main components:</p><ul><li><p>a Scheduler, responsible for handling computations graph and distributing tasks to Workers.</p></li><li><p>One or several (up to 1000s) Workers, computing individual tasks and storing results and data into distributed memory (RAM and/or worker’s local disk).</p></li></ul><p>A user usually needs <strong>Client</strong> and <strong>Cluster</strong> objects as shown below to use Dask Distributed.</p><img id="KDOp1PXxDl" style="margin:0 auto" src="/example-viewer/build/5f88b4250ac348093751d7c8111d1944.png" alt="Dask Distributed Cluster" data-canonical-url="https://user-images.githubusercontent.com/306380/66413985-27111600-e9be-11e9-9995-8f418ff48f8a.png" class=""/></div><div id="aJ7t5NelGR" class="relative group/block"><h5 id="where-can-we-deploy-a-dask-distributed-cluster" class="relative group"><span class="heading-text">Where can we deploy a Dask distributed cluster?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#where-can-we-deploy-a-dask-distributed-cluster" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p><a target="_blank" rel="noreferrer" href="https://docs.dask.org/en/stable/deploying.html" class="">Dask distributed clusters can be deployed on your laptop or on distributed infrastructures (Cloud, HPC centers, Hadoop, etc.)</a>  Dask distributed <code>Cluster</code> object is responsible of deploying and scaling a Dask Cluster on the underlying resources.</p><p>EDC has one such deployment</p><img id="cMQAQ05U99" style="margin:0 auto" src="/example-viewer/build/5bb4678f8c7e666155eecf57b9320e34.svg" alt="Dask Cluster deployment" data-canonical-url="https://docs.dask.org/en/stable/_images/dask-cluster-manager.svg" class=""/></div><div id="Lar7YcW2lB" class="relative group/block"><aside class="myst-admonition myst-admonition-tip my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-green-600"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Tip</div></div><div class="myst-admonition-body px-4 py-1"><p>A Dask <code>Cluster</code> can be created on a single machine (for instance your laptop) e.g. there is no need to have dedicated computational resources. However, speedup will only be limited to your single machine resources if you do not have dedicated computational resources!</p></div></aside></div><div id="jQqUhpEfk6" class="relative group/block"><h4 id="dask-distributed-client" class="relative group"><span class="heading-text">Dask distributed Client</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dask-distributed-client" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>The Dask distributed <code>Client</code> is what allows you to interact with Dask distributed Clusters. When using Dask distributed, you always need to create a <code>Client</code> object. Once a <code>Client</code> has been created, it will be used by default by each call to a Dask API, even if you do not explicitly use it.</p><p>No matter the Dask API (e.g. Arrays, Dataframes, Delayed, Futures, etc.) that you use, under the hood, Dask will create a Directed Acyclic Graph (DAG) of tasks by analysing the code. Client will be responsible to submit this DAG to the Scheduler along with the final result you want to compute. The Client will also gather results from the Workers, and aggregate it back in its underlying Python process.</p><p>Using <code>Client()</code> function with no argument, you will create a local Dask cluster with a number of workers and threads per worker corresponding to the number of cores in the ‘local’ machine. Here, during the workshop, we are running this notebook in the EDC Pangeo cloud deployment, so the ‘local’ machine is the jupyterlab you are using at the Cloud, and the number of cores is the number of cores on the cloud computing resources you’ve been given (not on your laptop).</p></div><div id="tMeCxvVyf2" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from dask.distributed import Client

client = Client()   # create a local dask cluster on the local machine.
client</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="TmGaDZDw_s1SOIzEOWv3P" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="A24WxTOrdx" class="relative group/block"><p>Inspecting the <code>Cluster Info</code> section above gives us information about the created cluster: we have 2 or 4 workers and the same number of threads (e.g. 1 thread per worker).</p></div><div id="xpFSimIxoP" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># close client to clean resources
# Note, you can run this tutorial locally if you uncomment this line 
client.close()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="cFA-53tP4i1nmFZcWMYIV" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left"></div></div><div id="P3Mb9zWI2B" class="relative group/block"><h3 id="scaling-your-computation-using-dask-gateway" class="relative group"><span class="heading-text">Scaling your Computation using Dask Gateway.</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#scaling-your-computation-using-dask-gateway" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For this workshop, you will learn how to use Dask Gateway to manage Dask clusters over Kubernetes, allowing to run our data analysis in parallel e.g. distribute tasks across several workers.</p><p>Dask Gateway is a component that helps you manage and create Dask Clusters across your environment.
As Dask Gateway is configured by default on this infrastructure, you just need to execute the following cells.</p><p>Note that, if you’re executing this locally, without prior setup for dask gateway, the following code will crash. If you would like to run this locally, skip these lines and continue with the local dask client above</p></div><div id="XYO8m1kXZ7" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from dask_gateway import Gateway
gateway = Gateway()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="jOrPQFFqSDH91rjyx7fIk" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left"></div></div><div id="aPmP2GMyEX" class="relative group/block"><h3 id="edc-dask-gateway-options" class="relative group"><span class="heading-text">EDC Dask Gateway Options</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#edc-dask-gateway-options" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>EDC Pangeo’s Dask Gateway provides several cluster configurations for your workloads. You can choose the appropriate size based on your computational needs:</p><ul><li><p><strong><code>small</code></strong></p><ul><li><p><strong>Worker cores:</strong> 0.5</p></li><li><p><strong>Worker memory:</strong> 1 GB</p></li></ul></li><li><p><strong><code>medium</code></strong></p><ul><li><p><strong>Worker cores:</strong> 2</p></li><li><p><strong>Worker memory:</strong> 2 GB</p></li></ul></li><li><p><strong><code>larger</code></strong></p><ul><li><p><strong>Worker cores:</strong> 4</p></li><li><p><strong>Worker memory:</strong> 4 GB</p></li></ul></li></ul><p>You can set these options when spawning your Dask clusters to ensure optimal resource allocation.</p></div><div id="flQP1uX1QK" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">cluster_options = gateway.cluster_options()
cluster_options</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="KwOlxq5a3knAvSo-ZAzsr" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="W88SFf5a29" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">cluster = gateway.new_cluster(cluster_options=cluster_options)
# cluster.scale(2)
cluster</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="C_qMYKXiEZVcJQ-pRb4PK" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="ZltAkWdmQg" class="relative group/block"><h4 id="get-a-client-from-the-dask-gateway-cluster" class="relative group"><span class="heading-text">Get a client from the Dask Gateway Cluster</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#get-a-client-from-the-dask-gateway-cluster" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>As stated above, creating a Dask <code>Client</code> is mandatory in order to perform following Daks computations on your Dask Cluster.</p></div><div id="NIXqLhi340" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">client = cluster.get_client()
client</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="J1UEJpeRHWoyidzOpQn-2" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="nKtqmjA2gU" class="relative group/block"><h4 id="dask-dashboard" class="relative group"><span class="heading-text">Dask Dashboard</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dask-dashboard" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Dask comes with a really handy interface: the Dask Dashboard. It is a web interface that you can open in a separated tab of your browser.</p><p>We will learn here how to use it through <a target="_blank" rel="noreferrer" href="https://github.com/dask/dask-labextension" class="">dask jupyterlab extension</a>.</p><p>To use Dask Dashboard through jupyterlab extension on Pangeo EDC infrastructure,
you will just need too look at the html link you have for your jupyterlab, and Dask dashboard port number, as highlighted in the figure below.</p><p><img id="WgMzXksz1f" style="margin:0 auto" src="/example-viewer/build/dashboardlink-7a38101288520ddfaab72be477e47950.png" alt="Dash Board link" data-canonical-url="../static/dashboardlink.png" class=""/>
<img id="NG2cNzM9CN" style="margin:0 auto" src="/example-viewer/build/dasklab-b6a97ead64b5e844206ee9b2fc04ce82.png" alt="Dash lab" data-canonical-url="../static/dasklab.png" class=""/></p><p>Then click the orange icon indicated in the above figure, and type ‘your’ dashboard link.</p><p>You can click several buttons indicated with blue arrows in above figures, then drag and drop to place them as your convenience.</p><img id="j4Ucob0b4l" style="margin:0 auto" src="/example-viewer/build/exampledasklab-31a0d130eadd855c1b653c25fb2c0504.png" alt="Example dask lab" data-canonical-url="../static/exampledasklab.png" class=""/><p>It’s really helpfull to understand your computation and how it is distributed.</p></div><div id="uDOcEa4CTh" class="relative group/block"><h3 id="dask-distributed-computations-on-our-dataset" class="relative group"><span class="heading-text">Dask Distributed computations on our dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dask-distributed-computations-on-our-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s open the SeasFire dataset we previously looked at, select a single location over time, visualize the task graph generated by Dask, and observe the Dask Dashboard.</p></div><div id="dzlEZ1aAZW" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">http_url = &quot;https://s3.waw4-1.cloudferro.com/EarthCODE/OSCAssets/seasfire/seasfire_v0.4.zarr/&quot;

ds = xarray.open_dataset(
	http_url,
	engine=&#x27;zarr&#x27;,
    chunks={},
	consolidated=True
)
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="N5f1J2E4pIGnYaF5eNfPl" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="UqphRQpvPX" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">mask= ds[&#x27;lsm&#x27;][:,:]
gwis_all= ds.gwis_ba.resample(time=&quot;1YE&quot;).sum()
gwis_all= gwis_all.where(mask&gt;0.5)

gwis_2020= gwis_all.sel(time=&#x27;2020-08-01&#x27;, method=&#x27;nearest&#x27;)
gwis_2020.data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="XAadhwP7o_2lejDRf_Z0n" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="CEDmpB4v14" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gwis_2020.data.visualize(optimize_graph=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="dKx3naums9MDjH4G0gl4C" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left mb-5"><img src="/example-viewer/build/56bc4ff11e5f3b241d45bc54006a24d6.png" alt="&lt;IPython.core.display.Image object&gt;"/></div></div><div id="QUI5eh2Euu" class="relative group/block"><p>Did you notice something on the Dask Dashboard when running the two previous cells?</p><p>We didn’t ‘compute’ anything. We just built a Dask task graph with it’s size indicated as count above, but did not ask Dask to return a result.</p><p>Note that underneath, dask optimizes the execution graph (opaquely), so as to minimize overheads and overall execution resources (hence why we’re passing optimize_graph=True)</p></div><div id="qXJQ2xLeUM" class="relative group/block"><h2 id="computing" class="relative group"><span class="heading-text">Computing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#computing" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Calling compute on our Xarray object will trigger the execution on the Dask Cluster. Alternatively any action that would demand the computation of our data (e.g. plotting) would trigger the execution of our workflow.</p><p>You should be able to see how Dask is working on Dask Dashboard.</p></div><div id="gVhHUtCjse" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gwis_2020.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="xcQOnENlwFehAdgTwiRJ3" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left mb-5"><img src="/example-viewer/build/c309c0a276dd1cfaf56711f7d6b53eac.png" alt="&lt;Figure size 640x480 with 2 Axes&gt;"/></div></div><div id="ndR6l9vp6y" class="relative group/block"><h2 id="closing-clusters" class="relative group"><span class="heading-text">Closing Clusters</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#closing-clusters" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Close Clusters to Clean Resources for the next exercise (generally a good practice!)</p></div><div id="H24uqpWK2r" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># close client to clean resources
client.close()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="n44oMAKauCDq2V_v414x0" class="max-w-full overflow-x-auto m-0 group not-prose relative overflow-y-visible text-left"></div></div><div></div><section id="references" class="article-grid subgrid-gap col-screen"><div><header class="text-lg font-semibold text-stone-900 dark:text-white group">References<a class="no-underline text-inherit hover:text-inherit ml-2 select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to References" aria-label="Link to References">¶</a></header></div><div class="pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"><ol><li class="break-words" id="cite-alonso-2024">Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., & Carvalhais, N. (2024). <i>SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System</i>. Zenodo. <a target="_blank" rel="noreferrer" href="https://doi.org/10.5281/ZENODO.13834057">10.5281/ZENODO.13834057</a></li></ol></div></section></article></main><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/example-viewer/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-F7G67JTZ.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/example-viewer/build/root-7TUVC4ZT.js"/><link rel="modulepreload" href="/example-viewer/build/_shared/chunk-INOWNUZ6.js"/><link rel="modulepreload" href="/example-viewer/build/routes/$-P6PGXPYX.js"/><script>window.__remixContext = {"url":"/external-notebooks/earthcode/examples/pangeo/pangeo101/dask101","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.4","options":{"hide_toc":true,"hide_footer_links":true,"folders":true,"style":"/example-viewer/build/custom-ab7c6e9b82d711f7bc4b39ca2c796791.css"},"nav":[],"actions":[],"projects":[{"subject":"EarthCODE Examples","title":"EarthCODE Examples","description":"Collection of examples relevant to the EarthCODE project","github":"https://github.com/esa-earthcode/example-viewer/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Earthcode","level":2},{"title":"Examples","level":3},{"slug":"external-notebooks.earthcode.examples.index","title":"EarthCODE Tutorials","description":"","date":"2025-02-24","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"external-notebooks.earthcode.examples.readme","title":"EarthCODE Tutorials","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Openeo","level":4},{"slug":"external-notebooks.earthcode.examples.openeo.index","title":"openEO","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.workflow","title":"Creating a workflow","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.experiment","title":"Creating an experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.publication","title":"Publishing an experiment to EarthCODE","description":"","date":"","thumbnail":"/example-viewer/build/publishing_login-7b04ed52a66b6f3733f8337ea317ea38.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.reproduce","title":"Reproducing an openEO Experiment published to the EarthCODE Open Science Catalogue","description":"","date":"","thumbnail":"/example-viewer/build/reproduce_editor_1-eeab509135deb37ba4b4ad072e628c72.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Publication","level":5},{"slug":"external-notebooks.earthcode.examples.openeo.publication.openeo-publication","title":"LPS 2025 – Enabling Open Science with EarthCODE and the Copernicus Dataspace Ecosystem openEO Federation","description":"","date":"","thumbnail":"/example-viewer/build/16144fd3808634385c6cf89d244cda6b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"OSC","level":4},{"slug":"external-notebooks.earthcode.examples.osc.index","title":"Open Science Catalog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.git-clerk-example","title":"Open Science Catalog Editor","description":"","date":"","thumbnail":"/example-viewer/build/gui_start-6a21ab1d06449ad2df910ea37c7be3b0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.osc-pr-manual","title":"Adding new content to Open Science Catalogue with Pull Request (PR)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.osc-pr-pystac","title":"Generating OSC information using pystac","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.stactools-old-example","title":"Stactools Full Example","description":"","date":"","thumbnail":"/example-viewer/build/a3d324b2c4f13ee9a02493e9c4d6e948.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Pangeo","level":4},{"slug":"external-notebooks.earthcode.examples.pangeo.index","title":"Pangeo","description":"This training introduces participants to the EDC Pangeo Cloud Platform and scalable geospatial analysis using Python tools. Participants will learn how to access data programmatically from the EarthCODE Open Science Catalog via the STAC API, explore Zarr-formatted datasets, and use Xarray with Dask for efficient data processing. The session includes a hands-on example and guidance on saving and publishing results back to the EarthCODE Catalog.","date":"","thumbnail":"/example-viewer/build/PangeoXEarthCODE-498073aced7dd0f825cd750c3f98be2e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["FAIR","pangeo","earthCODE"],"level":5},{"title":"Burnt Area Example","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.burnt-area-example.pangeo-on-earthcode","title":"Example EarthCODE Workflow","description":"","date":"","thumbnail":"/example-viewer/build/2abbd18d64e70642d7c0e83666723e68.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Earthcode101","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.about-edc-pangeo","title":"EDC Pangeo Cloud Platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.earthcode101","title":"EarthCODE and Pangeo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.stac-and-data-access","title":"Accessing EarthCODE Data","description":"","date":"","thumbnail":"/example-viewer/build/stacsetup-523f51f9c437fa9147217ff580628b82.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Introduction","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Pangeo101","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.cloud-native-formats-101","title":"Zarr 101","description":"","date":"","thumbnail":"/example-viewer/build/datasize-450d381009e7cb4877415872ce094190.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.dask101","title":"Dask 101","description":"","date":"","thumbnail":"/example-viewer/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.pangeo101","title":"Pangeo 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.xarray101","title":"Xarray 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Publishing To Earthcode","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.publishing-to-earthcode.publishing","title":"Publishing to EarthCODE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"PRR","level":4},{"slug":"external-notebooks.earthcode.examples.prr.index","title":"ESA Project Results Repository","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.antarctica-zarr","title":"Antartica InSync Data Cubes","description":"","date":"","thumbnail":"/example-viewer/build/de066fe23c6d4e5897c1792e270bcd4e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.careheat-v2","title":"Generating STAC collections for the CareHeat project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.creating-stac-catalog-from-prr-example","title":"Generating metadata for the SRAL Processing over Land Ice Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-stac-download-example","title":"ESA Project Results Repository (PRR) Data Access and Collections Preview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-stac-introduction","title":"Generating STAC metadata for the OHC 4d Atlantic dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-zarr","title":"Generating STAC metadata for the YIPEEO project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.sen4amazonas","title":"Sen4Amazonas: Time-Series Forest Loss Zarr Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.smartch4-signatures-modified","title":"SmartCH4 project - δ13CH4 signatures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.tccas-v2","title":"Generating STAC metadatas for the TCCAS dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/example-viewer"},"routes/$":{"config":{"version":2,"myst":"1.6.4","options":{"hide_toc":true,"hide_footer_links":true,"folders":true,"style":"/example-viewer/build/custom-ab7c6e9b82d711f7bc4b39ca2c796791.css"},"nav":[],"actions":[],"projects":[{"subject":"EarthCODE Examples","title":"EarthCODE Examples","description":"Collection of examples relevant to the EarthCODE project","github":"https://github.com/esa-earthcode/example-viewer/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Earthcode","level":2},{"title":"Examples","level":3},{"slug":"external-notebooks.earthcode.examples.index","title":"EarthCODE Tutorials","description":"","date":"2025-02-24","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"external-notebooks.earthcode.examples.readme","title":"EarthCODE Tutorials","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Openeo","level":4},{"slug":"external-notebooks.earthcode.examples.openeo.index","title":"openEO","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.workflow","title":"Creating a workflow","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.experiment","title":"Creating an experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.publication","title":"Publishing an experiment to EarthCODE","description":"","date":"","thumbnail":"/example-viewer/build/publishing_login-7b04ed52a66b6f3733f8337ea317ea38.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.reproduce","title":"Reproducing an openEO Experiment published to the EarthCODE Open Science Catalogue","description":"","date":"","thumbnail":"/example-viewer/build/reproduce_editor_1-eeab509135deb37ba4b4ad072e628c72.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Publication","level":5},{"slug":"external-notebooks.earthcode.examples.openeo.publication.openeo-publication","title":"LPS 2025 – Enabling Open Science with EarthCODE and the Copernicus Dataspace Ecosystem openEO Federation","description":"","date":"","thumbnail":"/example-viewer/build/16144fd3808634385c6cf89d244cda6b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"OSC","level":4},{"slug":"external-notebooks.earthcode.examples.osc.index","title":"Open Science Catalog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.git-clerk-example","title":"Open Science Catalog Editor","description":"","date":"","thumbnail":"/example-viewer/build/gui_start-6a21ab1d06449ad2df910ea37c7be3b0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.osc-pr-manual","title":"Adding new content to Open Science Catalogue with Pull Request (PR)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.osc-pr-pystac","title":"Generating OSC information using pystac","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.stactools-old-example","title":"Stactools Full Example","description":"","date":"","thumbnail":"/example-viewer/build/a3d324b2c4f13ee9a02493e9c4d6e948.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Pangeo","level":4},{"slug":"external-notebooks.earthcode.examples.pangeo.index","title":"Pangeo","description":"This training introduces participants to the EDC Pangeo Cloud Platform and scalable geospatial analysis using Python tools. Participants will learn how to access data programmatically from the EarthCODE Open Science Catalog via the STAC API, explore Zarr-formatted datasets, and use Xarray with Dask for efficient data processing. The session includes a hands-on example and guidance on saving and publishing results back to the EarthCODE Catalog.","date":"","thumbnail":"/example-viewer/build/PangeoXEarthCODE-498073aced7dd0f825cd750c3f98be2e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["FAIR","pangeo","earthCODE"],"level":5},{"title":"Burnt Area Example","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.burnt-area-example.pangeo-on-earthcode","title":"Example EarthCODE Workflow","description":"","date":"","thumbnail":"/example-viewer/build/2abbd18d64e70642d7c0e83666723e68.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Earthcode101","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.about-edc-pangeo","title":"EDC Pangeo Cloud Platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.earthcode101","title":"EarthCODE and Pangeo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.stac-and-data-access","title":"Accessing EarthCODE Data","description":"","date":"","thumbnail":"/example-viewer/build/stacsetup-523f51f9c437fa9147217ff580628b82.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Introduction","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Pangeo101","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.cloud-native-formats-101","title":"Zarr 101","description":"","date":"","thumbnail":"/example-viewer/build/datasize-450d381009e7cb4877415872ce094190.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.dask101","title":"Dask 101","description":"","date":"","thumbnail":"/example-viewer/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.pangeo101","title":"Pangeo 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.xarray101","title":"Xarray 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Publishing To Earthcode","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.publishing-to-earthcode.publishing","title":"Publishing to EarthCODE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"PRR","level":4},{"slug":"external-notebooks.earthcode.examples.prr.index","title":"ESA Project Results Repository","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.antarctica-zarr","title":"Antartica InSync Data Cubes","description":"","date":"","thumbnail":"/example-viewer/build/de066fe23c6d4e5897c1792e270bcd4e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.careheat-v2","title":"Generating STAC collections for the CareHeat project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.creating-stac-catalog-from-prr-example","title":"Generating metadata for the SRAL Processing over Land Ice Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-stac-download-example","title":"ESA Project Results Repository (PRR) Data Access and Collections Preview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-stac-introduction","title":"Generating STAC metadata for the OHC 4d Atlantic dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-zarr","title":"Generating STAC metadata for the YIPEEO project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.sen4amazonas","title":"Sen4Amazonas: Time-Series Forest Loss Zarr Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.smartch4-signatures-modified","title":"SmartCH4 project - δ13CH4 signatures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.tccas-v2","title":"Generating STAC metadatas for the TCCAS dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5}]}]},"page":{"version":2,"kind":"Notebook","sha256":"b892daddddd166304c039c52c1ee506a8affee84e3b0de06e0d0abfe16208bbd","slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.dask101","location":"/external_notebooks/earthcode/examples/pangeo/pangeo101/dask101.ipynb","dependencies":[],"frontmatter":{"title":"Dask 101","content_includes_title":false,"kernelspec":{"name":"conda-env-earthcode-bids-earthcode-bids-edc_pangeo-py","display_name":"earthcode-bids-earthcode-bids-edc_pangeo","language":"python"},"github":"https://github.com/esa-earthcode/example-viewer/","subject":"EarthCODE Examples","numbering":{"title":{"offset":5}},"source_url":"https://github.com/esa-earthcode/example-viewer//blob/main/external_notebooks/earthcode/examples/pangeo/pangeo101/dask101.ipynb","edit_url":"https://github.com/esa-earthcode/example-viewer//edit/main/external_notebooks/earthcode/examples/pangeo/pangeo101/dask101.ipynb","thumbnail":"/example-viewer/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","exports":[{"format":"ipynb","filename":"dask101.ipynb","url":"/example-viewer/build/dask101-ffac51c52d010923b3b54dc928d37cb8.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We will be using Dask with Xarray to parallelize our data analysis. The analysis is very similar to what we have done in previous examples but this time we will use data on a global coverage that we read from the SeasFire Cube.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NGDbNhM04r"}],"key":"mvhmZbQbJA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will learn how to use the EDC Pangeo Dask Gateway to analyse data at scale.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nvcpDhkwiu"}],"key":"TYnsnihEZ3"},{"type":"heading","depth":4,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Data","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"AJuTY8cQ6a"}],"identifier":"data","label":"Data","html_id":"data","implicit":true,"key":"qBiwGWGXBd"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"In this workshop, we will be using the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"CiulA63hXB"},{"type":"link","url":"https://opensciencedata.esa.int/products/seasfire-cube/collection","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"SeasFire Data Cube","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"liwyFUTyDd"}],"urlSource":"https://opensciencedata.esa.int/products/seasfire-cube/collection","key":"EkqzQ4Hds7"},{"type":"text","value":" published to the EarthCODE Open Science Catalog","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Obxqznj5Zb"}],"key":"ikrwCaIiCw"},{"type":"heading","depth":5,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Related publications","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"gO80ZjtDC8"}],"identifier":"related-publications","label":"Related publications","html_id":"related-publications","implicit":true,"key":"C4X4mOzIi4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Alonso, Lazaro, Gans, Fabian, Karasante, Ilektra, Ahuja, Akanksha, Prapas, Ioannis, Kondylatos, Spyros, Papoutsis, Ioannis, Panagiotou, Eleannna, Michail, Dimitrios, Cremer, Felix, Weber, Ulrich, \u0026 Carvalhais, Nuno. (2022). SeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System (0.4) [Data set]. Zenodo. ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"RKyR7YaOtq"},{"type":"cite","identifier":"alonso-2024","label":"alonso-2024","kind":"narrative","position":{"start":{"line":12,"column":331},"end":{"line":12,"column":343}},"children":[{"type":"text","value":"Alonso ","key":"gpnPxdF6UC"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"AqE2Rjdg6Y"}],"key":"uOWxNVxinm"},{"type":"text","value":" (2024)","key":"mQU7zdDQMo"}],"enumerator":"1","key":"KdEid06WXD"},{"type":"text","value":". The same dataset can also be downloaded from Zenodo: ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"M6Aiz9WCJ1"},{"type":"link","url":"https://zenodo.org/records/13834057","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://​zenodo​.org​/records​/13834057","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"PRjfZbEtrf"}],"urlSource":"https://zenodo.org/records/13834057","key":"tTcLqnWAy0"}],"key":"QzkyTgImO7"}],"key":"FXGc8AFDik"}],"key":"AtQdJrOyBE"}],"key":"B0BoBaoWVw"}],"key":"KBXmEWxSFy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import dask.distributed\nimport xarray","key":"L8dFsihAlP"},{"type":"output","id":"UyobUMAXlQN3mHORC6LUz","data":[],"key":"cLhFHRZJ5R"}],"key":"lGAqemGtAF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parallelize with Dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xWdTY2bxwW"}],"identifier":"parallelize-with-dask","label":"Parallelize with Dask","html_id":"parallelize-with-dask","implicit":true,"key":"nPeHWjwa92"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We know from previous chapter ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Xep6RvBwMs"},{"type":"link","url":"./cloud-native-formats101.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"cloud native formats 101","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Tr7CnesioE"}],"urlSource":"./cloud-native-formats101.ipynb","key":"vv2xji0LcJ"},{"type":"text","value":" that chunking is key for analyzing large datasets. In this episode, we will learn to parallelize our data analysis using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OODTaumvEN"},{"type":"link","url":"https://docs.dask.org/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zaJV6SI1xV"}],"urlSource":"https://docs.dask.org/","key":"uOKULn0cWm"},{"type":"text","value":" on our chunked dataset.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OTCOzvhCkK"}],"key":"vF8P15mzPa"}],"key":"TgQcLyAb6r"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IWQ2ZmgF79"},{"type":"link","url":"https://docs.dask.org/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zy4dVLYeQH"}],"urlSource":"https://docs.dask.org/","key":"S4QtwakYB8"},{"type":"text","value":" ?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EWmuVqxhHK"}],"identifier":"what-is-dask","label":"What is Dask ?","html_id":"what-is-dask","implicit":true,"key":"eCYSocJZ2U"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fFH1jXWBVs"}],"key":"xuK90AzyRL"},{"type":"text","value":" scales the existing Python ecosystem: with very or no changes in your code, you can speed-up computation using Dask or process bigger than memory datasets.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"loiQMsIIW0"}],"key":"oeT5isfT4q"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Dask is a flexible library for parallel computing in Python.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hVrqvb404I"}],"key":"dPwPWWI4H1"}],"key":"UYB3BB9T3W"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"It is widely used for handling large and complex Earth Science datasets and speed up science.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BPczRV9vna"}],"key":"cywdchbWw5"}],"key":"p7FCNjFw8i"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Dask is powerful, scalable and flexible. It is the leading platform today for data analytics at scale.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qDVygaaXif"}],"key":"oIQUc5tbpH"}],"key":"Z385bMcXJK"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"It scales natively to clusters, cloud, HPC and bridges prototyping up to production.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lRJ3RJ7Hp5"}],"key":"teFjP6Gn0t"}],"key":"nTcUOOwWaW"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The strength of Dask is that is scales and accelerates the existing Python ecosystem e.g. Numpy, Pandas and Scikit-learn with few effort from end-users.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"j1L0xE87HJ"}],"key":"YJwhGHsi8W"}],"key":"NiAYaj529W"}],"key":"IqPoJ4vGX5"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"It is interesting to note that at first, ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"rnYpTBYARK"},{"type":"link","url":"https://coiled.io/blog/history-dask/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Dask has been created to handle data that is larger than memory, on a single computer","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"VX1cd41QEv"}],"urlSource":"https://coiled.io/blog/history-dask/","key":"aKspGGTj2Z"},{"type":"text","value":". It then was extended with Distributed to compute data in parallel over clusters of computers.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"DIV4dp3wUB"}],"key":"qtignMr1ov"}],"key":"kkZeUqb65K"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How does Dask scale and accelerate your data analysis?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nAIQqtImdW"}],"identifier":"how-does-dask-scale-and-accelerate-your-data-analysis","label":"How does Dask scale and accelerate your data analysis?","html_id":"how-does-dask-scale-and-accelerate-your-data-analysis","implicit":true,"key":"EYcqKW3em8"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://docs.dask.org/en/stable/10-minutes-to-dask.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask proposes different abstractions to distribute your computation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XLyzw41KVR"}],"urlSource":"https://docs.dask.org/en/stable/10-minutes-to-dask.html","key":"OHEB5YVV9d"},{"type":"text","value":". In this ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NlGddFReU3"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask Introduction","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PNhrmnkl6J"}],"key":"s6VKwd4DWP"},{"type":"text","value":" section, we will focus on ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FD6H2rRZ0g"},{"type":"link","url":"https://docs.dask.org/en/stable/array.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask Array","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ost17sZ9Vy"}],"urlSource":"https://docs.dask.org/en/stable/array.html","key":"lyTEJbha3R"},{"type":"text","value":" which is widely used in pangeo ecosystem as a back end of Xarray.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hoeBkw5YgI"}],"key":"gwQsPDRGyD"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"As shown in the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"h4d3d0Sl19"},{"type":"link","url":"./chunking_introduction.ipynb","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"previous section","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"O3PaVv1daY"}],"urlSource":"./chunking_introduction.ipynb","key":"MK0yU5J8gN"},{"type":"text","value":" Dask Array is based on chunks.\nChunks of a Dask Array are well-known Numpy arrays. By transforming our big datasets to Dask Array, making use of chunk, a large array is handled as many smaller Numpy ones and we can compute each of these chunks independently.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"M1YeaMZfYY"}],"key":"M5NW6MhcPl"},{"type":"image","url":"/example-viewer/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","alt":"Dask and Numpy","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xWRNp3r09x","urlSource":"https://examples.dask.org/_images/dask-array-black-text.svg"}],"key":"DkEeypyLGp"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How does Xarray with Dask distribute data analysis?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NTPa80vcwo"}],"identifier":"how-does-xarray-with-dask-distribute-data-analysis","label":"How does Xarray with Dask distribute data analysis?","html_id":"how-does-xarray-with-dask-distribute-data-analysis","implicit":true,"key":"jCEBdpZfbY"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"When we use chunks with ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VhWrymeJ9o"},{"type":"inlineCode","value":"Xarray","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lx733iqrmV"},{"type":"text","value":", the real computation is only done when needed or asked for, usually when invoking ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Wq4aG2GJ7p"},{"type":"inlineCode","value":"compute()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bmrGDLJHPb"},{"type":"text","value":" or ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DQLROGgjm2"},{"type":"inlineCode","value":"load()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SRpbeoCXvu"},{"type":"text","value":" functions. Dask generates a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L6E6vtx8wZ"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"task graph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"e7M0VANMtf"}],"key":"GsKlS9xEzf"},{"type":"text","value":" describing the computations to be done. When using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ICcOvsQ3AU"},{"type":"link","url":"https://distributed.dask.org/en/stable/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask Distributed","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"POhttLPs80"}],"urlSource":"https://distributed.dask.org/en/stable/","key":"efGWTJgeqF"},{"type":"text","value":" a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hEIHBDtNEw"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Scheduler","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sDi3SSQFz5"}],"key":"CCvxtaIozr"},{"type":"text","value":" distributes these tasks across several ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"B39UXW365o"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Workers","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gh9XuJO4VO"}],"key":"xj0LgKI4r0"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FRytew8S3u"}],"key":"RFfl2CTePV"},{"type":"image","url":"/example-viewer/build/dask-xarray-explaine-cf260a335f1f0eee11735b6b623260b4.png","alt":"Xarray with da sk","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oJapUoARKI","urlSource":"../static/dask-xarray-explained.png"}],"key":"ub5tJ4Eic1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is a Dask Distributed cluster ?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bDQBFwrbbx"}],"identifier":"what-is-a-dask-distributed-cluster","label":"What is a Dask Distributed cluster ?","html_id":"what-is-a-dask-distributed-cluster","implicit":true,"key":"X3FtLfL9Co"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"A Dask Distributed cluster is made of two main components:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fS7s5xl1bY"}],"key":"Ka5091ZkMP"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"a Scheduler, responsible for handling computations graph and distributing tasks to Workers.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lkEmGpdsTt"}],"key":"t69MeLjzng"}],"key":"l5ElHpg43R"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"One or several (up to 1000s) Workers, computing individual tasks and storing results and data into distributed memory (RAM and/or worker’s local disk).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BXYxgdUNM2"}],"key":"RFfn7eAAvh"}],"key":"QbZ5JeQy6P"}],"key":"J3hluJqays"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"A user usually needs ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"WTZjm5GDyy"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Client","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mKc429s2Ht"}],"key":"upW8FRHp8R"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dG1N5W3FcF"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Cluster","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dtSM0uCai6"}],"key":"X68umgih5B"},{"type":"text","value":" objects as shown below to use Dask Distributed.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"DJrTY1EgWv"}],"key":"tdQwNu2AHi"},{"type":"image","url":"/example-viewer/build/5f88b4250ac348093751d7c8111d1944.png","alt":"Dask Distributed Cluster","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"KDOp1PXxDl","urlSource":"https://user-images.githubusercontent.com/306380/66413985-27111600-e9be-11e9-9995-8f418ff48f8a.png"}],"key":"uBndVtStMo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Where can we deploy a Dask distributed cluster?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"seyWX4sLHx"}],"identifier":"where-can-we-deploy-a-dask-distributed-cluster","label":"Where can we deploy a Dask distributed cluster?","html_id":"where-can-we-deploy-a-dask-distributed-cluster","implicit":true,"key":"l4NXJvDCHe"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://docs.dask.org/en/stable/deploying.html","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Dask distributed clusters can be deployed on your laptop or on distributed infrastructures (Cloud, HPC centers, Hadoop, etc.)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QHQF8iBdqb"}],"urlSource":"https://docs.dask.org/en/stable/deploying.html","key":"jGZ3f2ZRgH"},{"type":"text","value":"  Dask distributed ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"sdNGxKGtTi"},{"type":"inlineCode","value":"Cluster","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"w1VW8AplYR"},{"type":"text","value":" object is responsible of deploying and scaling a Dask Cluster on the underlying resources.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"etoIb3TqBT"}],"key":"dEQpOj2plq"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"EDC has one such deployment","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"mFzvhYdN9X"}],"key":"bOkR8W7KnB"},{"type":"image","url":"/example-viewer/build/5bb4678f8c7e666155eecf57b9320e34.svg","alt":"Dask Cluster deployment","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"cMQAQ05U99","urlSource":"https://docs.dask.org/en/stable/_images/dask-cluster-manager.svg"}],"key":"aJ7t5NelGR"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"MSzGEdjsVO"}],"key":"stjlT7xbhl"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"A Dask ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YcLk0wgdWn"},{"type":"inlineCode","value":"Cluster","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"omuSrGbhtO"},{"type":"text","value":" can be created on a single machine (for instance your laptop) e.g. there is no need to have dedicated computational resources. However, speedup will only be limited to your single machine resources if you do not have dedicated computational resources!","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"znDgvOmyB7"}],"key":"Tn5f91b4UY"}],"key":"dsIimSORSq"}],"key":"Lar7YcW2lB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask distributed Client","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U7AuAHqux1"}],"identifier":"dask-distributed-client","label":"Dask distributed Client","html_id":"dask-distributed-client","implicit":true,"key":"E6rc1Ppp0Y"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Dask distributed ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MiusjefRyG"},{"type":"inlineCode","value":"Client","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lihpjkjDPA"},{"type":"text","value":" is what allows you to interact with Dask distributed Clusters. When using Dask distributed, you always need to create a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dy799KwTY7"},{"type":"inlineCode","value":"Client","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jXcXLVfkOu"},{"type":"text","value":" object. Once a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aMcDdkIxJP"},{"type":"inlineCode","value":"Client","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RBI5A1893X"},{"type":"text","value":" has been created, it will be used by default by each call to a Dask API, even if you do not explicitly use it.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OG8CcL6CBj"}],"key":"Fg6P3KKSjw"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"No matter the Dask API (e.g. Arrays, Dataframes, Delayed, Futures, etc.) that you use, under the hood, Dask will create a Directed Acyclic Graph (DAG) of tasks by analysing the code. Client will be responsible to submit this DAG to the Scheduler along with the final result you want to compute. The Client will also gather results from the Workers, and aggregate it back in its underlying Python process.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"SvSMftH44M"}],"key":"pGRvjOJxpb"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Using ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QhGCYFe2lY"},{"type":"inlineCode","value":"Client()","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LUJdTHd3Uo"},{"type":"text","value":" function with no argument, you will create a local Dask cluster with a number of workers and threads per worker corresponding to the number of cores in the ‘local’ machine. Here, during the workshop, we are running this notebook in the EDC Pangeo cloud deployment, so the ‘local’ machine is the jupyterlab you are using at the Cloud, and the number of cores is the number of cores on the cloud computing resources you’ve been given (not on your laptop).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Lon9TSjIu2"}],"key":"DMlJsaTm5Z"}],"key":"jQqUhpEfk6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from dask.distributed import Client\n\nclient = Client()   # create a local dask cluster on the local machine.\nclient","key":"qSh1SxKHW4"},{"type":"output","id":"TmGaDZDw_s1SOIzEOWv3P","data":[{"name":"stderr","output_type":"stream","text":"/opt/miniconda3/envs/pangeo/lib/python3.13/site-packages/distributed/node.py:187: UserWarning: Port 8787 is already in use.\nPerhaps you already have a cluster running?\nHosting the HTTP server on port 50652 instead\n  warnings.warn(\n"},{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n    \u003cdiv style=\"width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n    \u003cdiv style=\"margin-left: 48px;\"\u003e\n        \u003ch3 style=\"margin-bottom: 0px;\"\u003eClient\u003c/h3\u003e\n        \u003cp style=\"color: #9D9D9D; margin-bottom: 0px;\"\u003eClient-2f2e1812-4ba4-11f0-a906-9a64fec3f90c\u003c/p\u003e\n        \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n\n        \u003ctr\u003e\n        \n            \u003ctd style=\"text-align: left;\"\u003e\u003cstrong\u003eConnection method:\u003c/strong\u003e Cluster object\u003c/td\u003e\n            \u003ctd style=\"text-align: left;\"\u003e\u003cstrong\u003eCluster type:\u003c/strong\u003e distributed.LocalCluster\u003c/td\u003e\n        \n        \u003c/tr\u003e\n\n        \n            \u003ctr\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\n                    \u003cstrong\u003eDashboard: \u003c/strong\u003e \u003ca href=\"http://127.0.0.1:50652/status\" target=\"_blank\"\u003ehttp://127.0.0.1:50652/status\u003c/a\u003e\n                \u003c/td\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\u003c/td\u003e\n            \u003c/tr\u003e\n        \n\n        \u003c/table\u003e\n\n        \n\n        \n            \u003cdetails\u003e\n            \u003csummary style=\"margin-bottom: 20px;\"\u003e\u003ch3 style=\"display: inline;\"\u003eCluster Info\u003c/h3\u003e\u003c/summary\u003e\n            \u003cdiv class=\"jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output\"\u003e\n    \u003cdiv style=\"width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;\"\u003e\n    \u003c/div\u003e\n    \u003cdiv style=\"margin-left: 48px;\"\u003e\n        \u003ch3 style=\"margin-bottom: 0px; margin-top: 0px;\"\u003eLocalCluster\u003c/h3\u003e\n        \u003cp style=\"color: #9D9D9D; margin-bottom: 0px;\"\u003e7b0c5fc3\u003c/p\u003e\n        \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n            \u003ctr\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\n                    \u003cstrong\u003eDashboard:\u003c/strong\u003e \u003ca href=\"http://127.0.0.1:50652/status\" target=\"_blank\"\u003ehttp://127.0.0.1:50652/status\u003c/a\u003e\n                \u003c/td\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\n                    \u003cstrong\u003eWorkers:\u003c/strong\u003e 5\n                \u003c/td\u003e\n            \u003c/tr\u003e\n            \u003ctr\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\n                    \u003cstrong\u003eTotal threads:\u003c/strong\u003e 10\n                \u003c/td\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\n                    \u003cstrong\u003eTotal memory:\u003c/strong\u003e 24.00 GiB\n                \u003c/td\u003e\n            \u003c/tr\u003e\n            \n            \u003ctr\u003e\n    \u003ctd style=\"text-align: left;\"\u003e\u003cstrong\u003eStatus:\u003c/strong\u003e running\u003c/td\u003e\n    \u003ctd style=\"text-align: left;\"\u003e\u003cstrong\u003eUsing processes:\u003c/strong\u003e True\u003c/td\u003e\n\u003c/tr\u003e\n\n            \n        \u003c/table\u003e\n\n        \u003cdetails\u003e\n            \u003csummary style=\"margin-bottom: 20px;\"\u003e\n                \u003ch3 style=\"display: inline;\"\u003eScheduler Info\u003c/h3\u003e\n            \u003c/summary\u003e\n\n            \u003cdiv style=\"\"\u003e\n    \u003cdiv\u003e\n        \u003cdiv style=\"width: 24px; height: 24px; background-color: #FFF7E5; border: 3px solid #FF6132; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n        \u003cdiv style=\"margin-left: 48px;\"\u003e\n            \u003ch3 style=\"margin-bottom: 0px;\"\u003eScheduler\u003c/h3\u003e\n            \u003cp style=\"color: #9D9D9D; margin-bottom: 0px;\"\u003eScheduler-26066f49-2ec8-4cfe-9b32-a8a9517e5b75\u003c/p\u003e\n            \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n                \u003ctr\u003e\n                    \u003ctd style=\"text-align: left;\"\u003e\n                        \u003cstrong\u003eComm:\u003c/strong\u003e tcp://127.0.0.1:50653\n                    \u003c/td\u003e\n                    \u003ctd style=\"text-align: left;\"\u003e\n                        \u003cstrong\u003eWorkers:\u003c/strong\u003e 5\n                    \u003c/td\u003e\n                \u003c/tr\u003e\n                \u003ctr\u003e\n                    \u003ctd style=\"text-align: left;\"\u003e\n                        \u003cstrong\u003eDashboard:\u003c/strong\u003e \u003ca href=\"http://127.0.0.1:50652/status\" target=\"_blank\"\u003ehttp://127.0.0.1:50652/status\u003c/a\u003e\n                    \u003c/td\u003e\n                    \u003ctd style=\"text-align: left;\"\u003e\n                        \u003cstrong\u003eTotal threads:\u003c/strong\u003e 10\n                    \u003c/td\u003e\n                \u003c/tr\u003e\n                \u003ctr\u003e\n                    \u003ctd style=\"text-align: left;\"\u003e\n                        \u003cstrong\u003eStarted:\u003c/strong\u003e Just now\n                    \u003c/td\u003e\n                    \u003ctd style=\"text-align: left;\"\u003e\n                        \u003cstrong\u003eTotal memory:\u003c/strong\u003e 24.00 GiB\n                    \u003c/td\u003e\n                \u003c/tr\u003e\n            \u003c/table\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\n    \u003cdetails style=\"margin-left: 48px;\"\u003e\n        \u003csummary style=\"margin-bottom: 20px;\"\u003e\n            \u003ch3 style=\"display: inline;\"\u003eWorkers\u003c/h3\u003e\n        \u003c/summary\u003e\n\n        \n        \u003cdiv style=\"margin-bottom: 20px;\"\u003e\n            \u003cdiv style=\"width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n            \u003cdiv style=\"margin-left: 48px;\"\u003e\n            \u003cdetails\u003e\n                \u003csummary\u003e\n                    \u003ch4 style=\"margin-bottom: 0px; display: inline;\"\u003eWorker: 0\u003c/h4\u003e\n                \u003c/summary\u003e\n                \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eComm: \u003c/strong\u003e tcp://127.0.0.1:50666\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eTotal threads: \u003c/strong\u003e 2\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eDashboard: \u003c/strong\u003e \u003ca href=\"http://127.0.0.1:50667/status\" target=\"_blank\"\u003ehttp://127.0.0.1:50667/status\u003c/a\u003e\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eMemory: \u003c/strong\u003e 4.80 GiB\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eNanny: \u003c/strong\u003e tcp://127.0.0.1:50656\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd colspan=\"2\" style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eLocal directory: \u003c/strong\u003e /var/folders/k6/1r9h76z14xx_l3r9n7cdxc140000gn/T/dask-scratch-space/worker-zehlihr2\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n\n                    \n\n                    \n\n                \u003c/table\u003e\n            \u003c/details\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \n        \u003cdiv style=\"margin-bottom: 20px;\"\u003e\n            \u003cdiv style=\"width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n            \u003cdiv style=\"margin-left: 48px;\"\u003e\n            \u003cdetails\u003e\n                \u003csummary\u003e\n                    \u003ch4 style=\"margin-bottom: 0px; display: inline;\"\u003eWorker: 1\u003c/h4\u003e\n                \u003c/summary\u003e\n                \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eComm: \u003c/strong\u003e tcp://127.0.0.1:50669\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eTotal threads: \u003c/strong\u003e 2\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eDashboard: \u003c/strong\u003e \u003ca href=\"http://127.0.0.1:50670/status\" target=\"_blank\"\u003ehttp://127.0.0.1:50670/status\u003c/a\u003e\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eMemory: \u003c/strong\u003e 4.80 GiB\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eNanny: \u003c/strong\u003e tcp://127.0.0.1:50658\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd colspan=\"2\" style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eLocal directory: \u003c/strong\u003e /var/folders/k6/1r9h76z14xx_l3r9n7cdxc140000gn/T/dask-scratch-space/worker-r8m5ei41\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n\n                    \n\n                    \n\n                \u003c/table\u003e\n            \u003c/details\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \n        \u003cdiv style=\"margin-bottom: 20px;\"\u003e\n            \u003cdiv style=\"width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n            \u003cdiv style=\"margin-left: 48px;\"\u003e\n            \u003cdetails\u003e\n                \u003csummary\u003e\n                    \u003ch4 style=\"margin-bottom: 0px; display: inline;\"\u003eWorker: 2\u003c/h4\u003e\n                \u003c/summary\u003e\n                \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eComm: \u003c/strong\u003e tcp://127.0.0.1:50672\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eTotal threads: \u003c/strong\u003e 2\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eDashboard: \u003c/strong\u003e \u003ca href=\"http://127.0.0.1:50673/status\" target=\"_blank\"\u003ehttp://127.0.0.1:50673/status\u003c/a\u003e\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eMemory: \u003c/strong\u003e 4.80 GiB\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eNanny: \u003c/strong\u003e tcp://127.0.0.1:50660\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd colspan=\"2\" style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eLocal directory: \u003c/strong\u003e /var/folders/k6/1r9h76z14xx_l3r9n7cdxc140000gn/T/dask-scratch-space/worker-w_pbgbu4\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n\n                    \n\n                    \n\n                \u003c/table\u003e\n            \u003c/details\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \n        \u003cdiv style=\"margin-bottom: 20px;\"\u003e\n            \u003cdiv style=\"width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n            \u003cdiv style=\"margin-left: 48px;\"\u003e\n            \u003cdetails\u003e\n                \u003csummary\u003e\n                    \u003ch4 style=\"margin-bottom: 0px; display: inline;\"\u003eWorker: 3\u003c/h4\u003e\n                \u003c/summary\u003e\n                \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eComm: \u003c/strong\u003e tcp://127.0.0.1:50674\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eTotal threads: \u003c/strong\u003e 2\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eDashboard: \u003c/strong\u003e \u003ca href=\"http://127.0.0.1:50676/status\" target=\"_blank\"\u003ehttp://127.0.0.1:50676/status\u003c/a\u003e\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eMemory: \u003c/strong\u003e 4.80 GiB\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eNanny: \u003c/strong\u003e tcp://127.0.0.1:50662\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd colspan=\"2\" style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eLocal directory: \u003c/strong\u003e /var/folders/k6/1r9h76z14xx_l3r9n7cdxc140000gn/T/dask-scratch-space/worker-rpbcznab\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n\n                    \n\n                    \n\n                \u003c/table\u003e\n            \u003c/details\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \n        \u003cdiv style=\"margin-bottom: 20px;\"\u003e\n            \u003cdiv style=\"width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n            \u003cdiv style=\"margin-left: 48px;\"\u003e\n            \u003cdetails\u003e\n                \u003csummary\u003e\n                    \u003ch4 style=\"margin-bottom: 0px; display: inline;\"\u003eWorker: 4\u003c/h4\u003e\n                \u003c/summary\u003e\n                \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eComm: \u003c/strong\u003e tcp://127.0.0.1:50678\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eTotal threads: \u003c/strong\u003e 2\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eDashboard: \u003c/strong\u003e \u003ca href=\"http://127.0.0.1:50679/status\" target=\"_blank\"\u003ehttp://127.0.0.1:50679/status\u003c/a\u003e\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eMemory: \u003c/strong\u003e 4.80 GiB\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eNanny: \u003c/strong\u003e tcp://127.0.0.1:50664\n                        \u003c/td\u003e\n                        \u003ctd style=\"text-align: left;\"\u003e\u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003ctd colspan=\"2\" style=\"text-align: left;\"\u003e\n                            \u003cstrong\u003eLocal directory: \u003c/strong\u003e /var/folders/k6/1r9h76z14xx_l3r9n7cdxc140000gn/T/dask-scratch-space/worker-o0wcf_uh\n                        \u003c/td\u003e\n                    \u003c/tr\u003e\n\n                    \n\n                    \n\n                \u003c/table\u003e\n            \u003c/details\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \n\n    \u003c/details\u003e\n\u003c/div\u003e\n\n        \u003c/details\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n            \u003c/details\u003e\n        \n\n    \u003c/div\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cClient: 'tcp://127.0.0.1:50653' processes=5 threads=10, memory=24.00 GiB\u003e","content_type":"text/plain"}}}],"key":"AiNBgUFkOB"}],"key":"tMeCxvVyf2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspecting the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FCRgl6Yb4d"},{"type":"inlineCode","value":"Cluster Info","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cf8IhzKlzd"},{"type":"text","value":" section above gives us information about the created cluster: we have 2 or 4 workers and the same number of threads (e.g. 1 thread per worker).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QlYifiVs3m"}],"key":"KNuC4B23oa"}],"key":"A24WxTOrdx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# close client to clean resources\n# Note, you can run this tutorial locally if you uncomment this line \nclient.close()","key":"O2wl9DYZnY"},{"type":"output","id":"cFA-53tP4i1nmFZcWMYIV","data":[],"key":"lGLLqxWoIh"}],"key":"xpFSimIxoP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Scaling your Computation using Dask Gateway.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wQz2xBXGg1"}],"identifier":"scaling-your-computation-using-dask-gateway","label":"Scaling your Computation using Dask Gateway.","html_id":"scaling-your-computation-using-dask-gateway","implicit":true,"key":"q1tvu1CXPD"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For this workshop, you will learn how to use Dask Gateway to manage Dask clusters over Kubernetes, allowing to run our data analysis in parallel e.g. distribute tasks across several workers.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fd6FksauUq"}],"key":"TIhTx3wtcL"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Dask Gateway is a component that helps you manage and create Dask Clusters across your environment.\nAs Dask Gateway is configured by default on this infrastructure, you just need to execute the following cells.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GkHVMYHkni"}],"key":"dHUwNz4TMo"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Note that, if you’re executing this locally, without prior setup for dask gateway, the following code will crash. If you would like to run this locally, skip these lines and continue with the local dask client above","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fZEQfWdA5E"}],"key":"iz17SwcKVw"}],"key":"P3Mb9zWI2B"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from dask_gateway import Gateway\ngateway = Gateway()","key":"g0tGuy5fpZ"},{"type":"output","id":"jOrPQFFqSDH91rjyx7fIk","data":[],"key":"IJWRgUg6w0"}],"key":"XYO8m1kXZ7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EDC Dask Gateway Options","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ftkNmSVHjs"}],"identifier":"edc-dask-gateway-options","label":"EDC Dask Gateway Options","html_id":"edc-dask-gateway-options","implicit":true,"key":"NhwdqzqSdJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"EDC Pangeo’s Dask Gateway provides several cluster configurations for your workloads. You can choose the appropriate size based on your computational needs:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"U4f0GHrqUK"}],"key":"cdw3auZ3SG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"inlineCode","value":"small","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"raVLlGgN7R"}],"key":"rskludHQay"}],"key":"JEX9VidvDF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Worker cores:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"gWYSGPWvEs"}],"key":"mI0SvBziz6"},{"type":"text","value":" 0.5","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fYi5W8g7wB"}],"key":"aqeifx2ptX"}],"key":"M01vy4h0Af"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Worker memory:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"HBS8d5NbP2"}],"key":"q5yZjCn2Yj"},{"type":"text","value":" 1 GB","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"OXLFMMyMrH"}],"key":"lJcG1Fa2bY"}],"key":"Gr92ZkLDv1"}],"key":"oNRw3a8gX3"}],"key":"hdRpmlvXxe"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"medium","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"R615qiEMVz"}],"key":"foKNXnYbSx"}],"key":"AbkMjtUxbQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Worker cores:","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"EPkhZYNehD"}],"key":"wW9sSRTJ20"},{"type":"text","value":" 2","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"u1v1O0MyeD"}],"key":"HQ7xBkz0Td"}],"key":"pMY9E2nbDL"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Worker memory:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"YLAmE3Tiyz"}],"key":"YxS8RkTr09"},{"type":"text","value":" 2 GB","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"PlsBFITaRt"}],"key":"s6g2CHEQZP"}],"key":"eoKY7xueGA"}],"key":"hzxXoeVfmt"}],"key":"FtsSPA6s8Z"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"inlineCode","value":"larger","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"jaQeLqf8bf"}],"key":"fpZPW8UO4C"}],"key":"zWWRCsi3EH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Worker cores:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Qamm8DsYZA"}],"key":"zDvOrLznNG"},{"type":"text","value":" 4","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"YC1OZRmTR7"}],"key":"Emigha1TLb"}],"key":"xcmFDpTvqG"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Worker memory:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"EeRViV5iK8"}],"key":"mr2RVm6TWP"},{"type":"text","value":" 4 GB","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"y0VdzHB547"}],"key":"pOePBpM11X"}],"key":"Qem0MFmQXP"}],"key":"n3tyARjPj3"}],"key":"Xnvv0GZJSa"}],"key":"igSh49FNQc"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"You can set these options when spawning your Dask clusters to ensure optimal resource allocation.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Eyxm3Zemhy"}],"key":"LD1Y0hFkzZ"}],"key":"aPmP2GMyEX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cluster_options = gateway.cluster_options()\ncluster_options","key":"ATDUVP0YpX"},{"type":"output","id":"KwOlxq5a3knAvSo-ZAzsr","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"017ce10b16fb44e39c9ea2600371d89e\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"VBox(children=(HTML(value='\u003ch2\u003eCluster Options\u003c/h2\u003e'), GridBox(children=(HTML(value=\"\u003cp style='font-weight: bo…","content_type":"text/plain"}}}],"key":"YpU5ksGhLG"}],"key":"flQP1uX1QK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cluster = gateway.new_cluster(cluster_options=cluster_options)\n# cluster.scale(2)\ncluster","key":"zyp283QCHX"},{"type":"output","id":"C_qMYKXiEZVcJQ-pRb4PK","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"4453ea73e54843db9c7838028ddf51a9\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"VBox(children=(HTML(value='\u003ch2\u003eGatewayCluster\u003c/h2\u003e'), HBox(children=(HTML(value='\\n\u003cdiv\u003e\\n\u003cstyle scoped\u003e\\n    …","content_type":"text/plain"}}}],"key":"E6TrJBOzJm"}],"key":"W88SFf5a29"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get a client from the Dask Gateway Cluster","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qQizmGuHcM"}],"identifier":"get-a-client-from-the-dask-gateway-cluster","label":"Get a client from the Dask Gateway Cluster","html_id":"get-a-client-from-the-dask-gateway-cluster","implicit":true,"key":"z2tqmaqr8N"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As stated above, creating a Dask ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UUcMtkuPiW"},{"type":"inlineCode","value":"Client","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fh6ARHiFIo"},{"type":"text","value":" is mandatory in order to perform following Daks computations on your Dask Cluster.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PJ1wQkqxUq"}],"key":"SSzuNujwAA"}],"key":"ZltAkWdmQg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"client = cluster.get_client()\nclient","key":"PyctEIP4Po"},{"type":"output","id":"J1UEJpeRHWoyidzOpQn-2","data":[{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n    \u003cdiv style=\"width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;\"\u003e \u003c/div\u003e\n    \u003cdiv style=\"margin-left: 48px;\"\u003e\n        \u003ch3 style=\"margin-bottom: 0px;\"\u003eClient\u003c/h3\u003e\n        \u003cp style=\"color: #9D9D9D; margin-bottom: 0px;\"\u003eClient-03805c84-9959-11f0-807d-0255ac10008e\u003c/p\u003e\n        \u003ctable style=\"width: 100%; text-align: left;\"\u003e\n\n        \u003ctr\u003e\n        \n            \u003ctd style=\"text-align: left;\"\u003e\u003cstrong\u003eConnection method:\u003c/strong\u003e Cluster object\u003c/td\u003e\n            \u003ctd style=\"text-align: left;\"\u003e\u003cstrong\u003eCluster type:\u003c/strong\u003e dask_gateway.GatewayCluster\u003c/td\u003e\n        \n        \u003c/tr\u003e\n\n        \n            \u003ctr\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\n                    \u003cstrong\u003eDashboard: \u003c/strong\u003e \u003ca href=\"https://hub-otc.eox.at/services/eoxhub-gateway/lampata-test/traefik-dask-gateway/clusters/lampata-test.65f31c3c72594ff09834703292dd8226/status\" target=\"_blank\"\u003ehttps://hub-otc.eox.at/services/eoxhub-gateway/lampata-test/traefik-dask-gateway/clusters/lampata-test.65f31c3c72594ff09834703292dd8226/status\u003c/a\u003e\n                \u003c/td\u003e\n                \u003ctd style=\"text-align: left;\"\u003e\u003c/td\u003e\n            \u003c/tr\u003e\n        \n\n        \u003c/table\u003e\n\n        \n\n        \n            \u003cdetails\u003e\n            \u003csummary style=\"margin-bottom: 20px;\"\u003e\u003ch3 style=\"display: inline;\"\u003eCluster Info\u003c/h3\u003e\u003c/summary\u003e\n            \u003cdiv style='background-color: #f2f2f2; display: inline-block; padding: 10px; border: 1px solid #999999;'\u003e\n  \u003ch3\u003eGatewayCluster\u003c/h3\u003e\n  \u003cul\u003e\n    \u003cli\u003e\u003cb\u003eName: \u003c/b\u003elampata-test.65f31c3c72594ff09834703292dd8226\n    \u003cli\u003e\u003cb\u003eDashboard: \u003c/b\u003e\u003ca href='https://hub-otc.eox.at/services/eoxhub-gateway/lampata-test/traefik-dask-gateway/clusters/lampata-test.65f31c3c72594ff09834703292dd8226/status' target='_blank'\u003ehttps://hub-otc.eox.at/services/eoxhub-gateway/lampata-test/traefik-dask-gateway/clusters/lampata-test.65f31c3c72594ff09834703292dd8226/status\u003c/a\u003e\n  \u003c/ul\u003e\n\u003c/div\u003e\n\n            \u003c/details\u003e\n        \n\n    \u003c/div\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cClient: 'tls://172.16.0.234:8786' processes=0 threads=0, memory=0 B\u003e","content_type":"text/plain"}}}],"key":"Q4sBpJ4MFh"}],"key":"NIXqLhi340"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask Dashboard","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"twPLHt45PQ"}],"identifier":"dask-dashboard","label":"Dask Dashboard","html_id":"dask-dashboard","implicit":true,"key":"FgQOHAq02q"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask comes with a really handy interface: the Dask Dashboard. It is a web interface that you can open in a separated tab of your browser.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G053Ae1zr4"}],"key":"sLL8uQHPlc"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will learn here how to use it through ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"c40EKcRl5a"},{"type":"link","url":"https://github.com/dask/dask-labextension","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"dask jupyterlab extension","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vb3XH7PXBC"}],"urlSource":"https://github.com/dask/dask-labextension","error":true,"key":"P8S4nWJczC"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wfCvv0VhbW"}],"key":"rl3aQTOpP2"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"To use Dask Dashboard through jupyterlab extension on Pangeo EDC infrastructure,\nyou will just need too look at the html link you have for your jupyterlab, and Dask dashboard port number, as highlighted in the figure below.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WfLVUC9e1n"}],"key":"wt9VASmNQ7"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"image","url":"/example-viewer/build/dashboardlink-7a38101288520ddfaab72be477e47950.png","alt":"Dash Board link","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"WgMzXksz1f","urlSource":"../static/dashboardlink.png"},{"type":"text","value":"\n","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"InsJCk9MtF"},{"type":"image","url":"/example-viewer/build/dasklab-b6a97ead64b5e844206ee9b2fc04ce82.png","alt":"Dash lab","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"NG2cNzM9CN","urlSource":"../static/dasklab.png"}],"key":"DfmQr7ooHL"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Then click the orange icon indicated in the above figure, and type ‘your’ dashboard link.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"x2rDAzxL1m"}],"key":"WY4ms9tbDZ"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"You can click several buttons indicated with blue arrows in above figures, then drag and drop to place them as your convenience.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"U1m2uDO0WY"}],"key":"gJcAdh4xRG"},{"type":"image","url":"/example-viewer/build/exampledasklab-31a0d130eadd855c1b653c25fb2c0504.png","alt":"Example dask lab","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"j4Ucob0b4l","urlSource":"../static/exampledasklab.png"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"It’s really helpfull to understand your computation and how it is distributed.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"lEcwHzf8rx"}],"key":"nVNSmb16mz"}],"key":"nKtqmjA2gU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask Distributed computations on our dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lbfQ0bdxTK"}],"identifier":"dask-distributed-computations-on-our-dataset","label":"Dask Distributed computations on our dataset","html_id":"dask-distributed-computations-on-our-dataset","implicit":true,"key":"QxB9spjaD0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s open the SeasFire dataset we previously looked at, select a single location over time, visualize the task graph generated by Dask, and observe the Dask Dashboard.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BGENy3nxi2"}],"key":"sOsBqzhm1b"}],"key":"uDOcEa4CTh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"http_url = \"https://s3.waw4-1.cloudferro.com/EarthCODE/OSCAssets/seasfire/seasfire_v0.4.zarr/\"\n\nds = xarray.open_dataset(\n\thttp_url,\n\tengine='zarr',\n    chunks={},\n\tconsolidated=True\n)\nds","key":"oAqzXDC5No"},{"type":"output","id":"N5f1J2E4pIGnYaF5eNfPl","data":[{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"296be148a4e7e60f4ca78f20335d22ed","path":"/example-viewer/build/296be148a4e7e60f4ca78f20335d22ed.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 164GB\nDimensions:                         (latitude: 720, longitude: 1440, time: 966)\nCoordinates:\n  * latitude                        (latitude) float64 6kB 89.88 ... -89.88\n  * longitude                       (longitude) float64 12kB -179.9 ... 179.9\n  * time                            (time) datetime64[ns] 8kB 2001-01-01 ... ...\nData variables: (12/59)\n    area                            (latitude, longitude) float32 4MB dask.array\u003cchunksize=(180, 360), meta=np.ndarray\u003e\n    biomes                          (latitude, longitude) float32 4MB dask.array\u003cchunksize=(180, 360), meta=np.ndarray\u003e\n    cams_co2fire                    (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    cams_frpfire                    (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    drought_code_max                (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    drought_code_mean               (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    ...                              ...\n    t2m_max                         (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    t2m_mean                        (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    t2m_min                         (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    tp                              (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    vpd                             (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\n    ws10                            (time, latitude, longitude) float32 4GB dask.array\u003cchunksize=(966, 180, 360), meta=np.ndarray\u003e\nAttributes:\n    crs:          EPSG:4326\n    description:  The SeasFire Cube is a scientific datacube for seasonal fir...\n    title:        SeasFire Cube: A Global Dataset for Seasonal Fire Modeling ...","content_type":"text/plain"}}}],"key":"t8QvnSAT6f"}],"key":"dzlEZ1aAZW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"mask= ds['lsm'][:,:]\ngwis_all= ds.gwis_ba.resample(time=\"1YE\").sum()\ngwis_all= gwis_all.where(mask\u003e0.5)\n\ngwis_2020= gwis_all.sel(time='2020-08-01', method='nearest')\ngwis_2020.data","key":"LPDV5O4EzU"},{"type":"output","id":"XAadhwP7o_2lejDRf_Z0n","data":[{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/html":{"content":"\u003ctable\u003e\n    \u003ctr\u003e\n        \u003ctd\u003e\n            \u003ctable style=\"border-collapse: collapse;\"\u003e\n                \u003cthead\u003e\n                    \u003ctr\u003e\n                        \u003ctd\u003e \u003c/td\u003e\n                        \u003cth\u003e Array \u003c/th\u003e\n                        \u003cth\u003e Chunk \u003c/th\u003e\n                    \u003c/tr\u003e\n                \u003c/thead\u003e\n                \u003ctbody\u003e\n                    \n                    \u003ctr\u003e\n                        \u003cth\u003e Bytes \u003c/th\u003e\n                        \u003ctd\u003e 3.96 MiB \u003c/td\u003e\n                        \u003ctd\u003e 253.12 kiB \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \n                    \u003ctr\u003e\n                        \u003cth\u003e Shape \u003c/th\u003e\n                        \u003ctd\u003e (720, 1440) \u003c/td\u003e\n                        \u003ctd\u003e (180, 360) \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003cth\u003e Dask graph \u003c/th\u003e\n                        \u003ctd colspan=\"2\"\u003e 16 chunks in 12 graph layers \u003c/td\u003e\n                    \u003c/tr\u003e\n                    \u003ctr\u003e\n                        \u003cth\u003e Data type \u003c/th\u003e\n                        \u003ctd colspan=\"2\"\u003e float32 numpy.ndarray \u003c/td\u003e\n                    \u003c/tr\u003e\n                \u003c/tbody\u003e\n            \u003c/table\u003e\n        \u003c/td\u003e\n        \u003ctd\u003e\n        \u003csvg width=\"170\" height=\"110\" style=\"stroke:rgb(0,0,0);stroke-width:1\" \u003e\n\n  \u003c!-- Horizontal lines --\u003e\n  \u003cline x1=\"0\" y1=\"0\" x2=\"120\" y2=\"0\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"0\" y1=\"15\" x2=\"120\" y2=\"15\" /\u003e\n  \u003cline x1=\"0\" y1=\"30\" x2=\"120\" y2=\"30\" /\u003e\n  \u003cline x1=\"0\" y1=\"45\" x2=\"120\" y2=\"45\" /\u003e\n  \u003cline x1=\"0\" y1=\"60\" x2=\"120\" y2=\"60\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Vertical lines --\u003e\n  \u003cline x1=\"0\" y1=\"0\" x2=\"0\" y2=\"60\" style=\"stroke-width:2\" /\u003e\n  \u003cline x1=\"30\" y1=\"0\" x2=\"30\" y2=\"60\" /\u003e\n  \u003cline x1=\"60\" y1=\"0\" x2=\"60\" y2=\"60\" /\u003e\n  \u003cline x1=\"90\" y1=\"0\" x2=\"90\" y2=\"60\" /\u003e\n  \u003cline x1=\"120\" y1=\"0\" x2=\"120\" y2=\"60\" style=\"stroke-width:2\" /\u003e\n\n  \u003c!-- Colored Rectangle --\u003e\n  \u003cpolygon points=\"0.0,0.0 120.0,0.0 120.0,60.0 0.0,60.0\" style=\"fill:#ECB172A0;stroke-width:0\"/\u003e\n\n  \u003c!-- Text --\u003e\n  \u003ctext x=\"60.000000\" y=\"80.000000\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" \u003e1440\u003c/text\u003e\n  \u003ctext x=\"140.000000\" y=\"30.000000\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,140.000000,30.000000)\"\u003e720\u003c/text\u003e\n\u003c/svg\u003e\n        \u003c/td\u003e\n    \u003c/tr\u003e\n\u003c/table\u003e","content_type":"text/html"},"text/plain":{"content":"dask.array\u003cgetitem, shape=(720, 1440), dtype=float32, chunksize=(180, 360), chunktype=numpy.ndarray\u003e","content_type":"text/plain"}}}],"key":"uewCX5ugz3"}],"key":"UqphRQpvPX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"gwis_2020.data.visualize(optimize_graph=True)","key":"gtxR6zPwQg"},{"type":"output","id":"dKx3naums9MDjH4G0gl4C","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"56bc4ff11e5f3b241d45bc54006a24d6","path":"/example-viewer/build/56bc4ff11e5f3b241d45bc54006a24d6.png"},"text/plain":{"content":"\u003cIPython.core.display.Image object\u003e","content_type":"text/plain"}}}],"key":"oKsYMQ43we"}],"key":"CEDmpB4v14"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Did you notice something on the Dask Dashboard when running the two previous cells?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NgH7Dh1u97"}],"key":"TdgXexNo55"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We didn’t ‘compute’ anything. We just built a Dask task graph with it’s size indicated as count above, but did not ask Dask to return a result.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mnrUHjMYEc"}],"key":"cBpDE78orN"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Note that underneath, dask optimizes the execution graph (opaquely), so as to minimize overheads and overall execution resources (hence why we’re passing optimize_graph=True)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PZVGhR46By"}],"key":"KNtPVRrMSt"}],"key":"QUI5eh2Euu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Computing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w1jaP6xgTP"}],"identifier":"computing","label":"Computing","html_id":"computing","implicit":true,"key":"hw4Eg4gJAT"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Calling compute on our Xarray object will trigger the execution on the Dask Cluster. Alternatively any action that would demand the computation of our data (e.g. plotting) would trigger the execution of our workflow.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XcbWT2VmnJ"}],"key":"Gtf94nuQPz"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"You should be able to see how Dask is working on Dask Dashboard.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Y3lt15posS"}],"key":"Eln8TEYqkR"}],"key":"qXJQ2xLeUM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"gwis_2020.plot()","key":"kaa0JkEYxo"},{"type":"output","id":"xcQOnENlwFehAdgTwiRJ3","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"c309c0a276dd1cfaf56711f7d6b53eac","path":"/example-viewer/build/c309c0a276dd1cfaf56711f7d6b53eac.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"XznKIMjTaa"}],"key":"gVhHUtCjse"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Closing Clusters","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RlJyY9XCxI"}],"identifier":"closing-clusters","label":"Closing Clusters","html_id":"closing-clusters","implicit":true,"key":"CFOc97HUDM"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Close Clusters to Clean Resources for the next exercise (generally a good practice!)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"o0LxSA6VaL"}],"key":"KX5TpD5M2T"}],"key":"ndR6l9vp6y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# close client to clean resources\nclient.close()","key":"tvWZOd689H"},{"type":"output","id":"n44oMAKauCDq2V_v414x0","data":[],"key":"UdhFAaPjOV"}],"key":"H24uqpWK2r"}],"key":"hePiAn2l7L"},"references":{"cite":{"order":["alonso-2024"],"data":{"alonso-2024":{"label":"alonso-2024","enumerator":"1","doi":"10.5281/ZENODO.13834057","html":"Alonso, L., Gans, F., Karasante, I., Ahuja, A., Prapas, I., Kondylatos, S., Papoutsis, I., Panagiotou, E., Mihail, D., Cremer, F., Weber, U., \u0026 Carvalhais, N. (2024). \u003ci\u003eSeasFire Cube: A Global Dataset for Seasonal Fire Modeling in the Earth System\u003c/i\u003e. Zenodo. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5281/ZENODO.13834057\"\u003e10.5281/ZENODO.13834057\u003c/a\u003e","url":"https://doi.org/10.5281/ZENODO.13834057"}}}},"footer":{"navigation":{"prev":{"title":"Zarr 101","url":"/external-notebooks/earthcode/examples/pangeo/pangeo101/cloud-native-formats-101","group":"Pangeo101"},"next":{"title":"Pangeo 101","url":"/external-notebooks/earthcode/examples/pangeo/pangeo101/pangeo101","group":"Pangeo101"}}},"domain":"http://localhost:3000"},"project":{"subject":"EarthCODE Examples","title":"EarthCODE Examples","description":"Collection of examples relevant to the EarthCODE project","github":"https://github.com/esa-earthcode/example-viewer/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Earthcode","level":2},{"title":"Examples","level":3},{"slug":"external-notebooks.earthcode.examples.index","title":"EarthCODE Tutorials","description":"","date":"2025-02-24","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"external-notebooks.earthcode.examples.readme","title":"EarthCODE Tutorials","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Openeo","level":4},{"slug":"external-notebooks.earthcode.examples.openeo.index","title":"openEO","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.workflow","title":"Creating a workflow","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.experiment","title":"Creating an experiment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.publication","title":"Publishing an experiment to EarthCODE","description":"","date":"","thumbnail":"/example-viewer/build/publishing_login-7b04ed52a66b6f3733f8337ea317ea38.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.openeo.reproduce","title":"Reproducing an openEO Experiment published to the EarthCODE Open Science Catalogue","description":"","date":"","thumbnail":"/example-viewer/build/reproduce_editor_1-eeab509135deb37ba4b4ad072e628c72.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Publication","level":5},{"slug":"external-notebooks.earthcode.examples.openeo.publication.openeo-publication","title":"LPS 2025 – Enabling Open Science with EarthCODE and the Copernicus Dataspace Ecosystem openEO Federation","description":"","date":"","thumbnail":"/example-viewer/build/16144fd3808634385c6cf89d244cda6b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"OSC","level":4},{"slug":"external-notebooks.earthcode.examples.osc.index","title":"Open Science Catalog","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.git-clerk-example","title":"Open Science Catalog Editor","description":"","date":"","thumbnail":"/example-viewer/build/gui_start-6a21ab1d06449ad2df910ea37c7be3b0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.osc-pr-manual","title":"Adding new content to Open Science Catalogue with Pull Request (PR)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.osc-pr-pystac","title":"Generating OSC information using pystac","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.osc.stactools-old-example","title":"Stactools Full Example","description":"","date":"","thumbnail":"/example-viewer/build/a3d324b2c4f13ee9a02493e9c4d6e948.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Pangeo","level":4},{"slug":"external-notebooks.earthcode.examples.pangeo.index","title":"Pangeo","description":"This training introduces participants to the EDC Pangeo Cloud Platform and scalable geospatial analysis using Python tools. Participants will learn how to access data programmatically from the EarthCODE Open Science Catalog via the STAC API, explore Zarr-formatted datasets, and use Xarray with Dask for efficient data processing. The session includes a hands-on example and guidance on saving and publishing results back to the EarthCODE Catalog.","date":"","thumbnail":"/example-viewer/build/PangeoXEarthCODE-498073aced7dd0f825cd750c3f98be2e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["FAIR","pangeo","earthCODE"],"level":5},{"title":"Burnt Area Example","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.burnt-area-example.pangeo-on-earthcode","title":"Example EarthCODE Workflow","description":"","date":"","thumbnail":"/example-viewer/build/2abbd18d64e70642d7c0e83666723e68.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Earthcode101","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.about-edc-pangeo","title":"EDC Pangeo Cloud Platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.earthcode101","title":"EarthCODE and Pangeo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.earthcode101.stac-and-data-access","title":"Accessing EarthCODE Data","description":"","date":"","thumbnail":"/example-viewer/build/stacsetup-523f51f9c437fa9147217ff580628b82.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Introduction","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Pangeo101","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.cloud-native-formats-101","title":"Zarr 101","description":"","date":"","thumbnail":"/example-viewer/build/datasize-450d381009e7cb4877415872ce094190.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.dask101","title":"Dask 101","description":"","date":"","thumbnail":"/example-viewer/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.pangeo101","title":"Pangeo 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.earthcode.examples.pangeo.pangeo101.xarray101","title":"Xarray 101","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Publishing To Earthcode","level":5},{"slug":"external-notebooks.earthcode.examples.pangeo.publishing-to-earthcode.publishing","title":"Publishing to EarthCODE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"PRR","level":4},{"slug":"external-notebooks.earthcode.examples.prr.index","title":"ESA Project Results Repository","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.antarctica-zarr","title":"Antartica InSync Data Cubes","description":"","date":"","thumbnail":"/example-viewer/build/de066fe23c6d4e5897c1792e270bcd4e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.careheat-v2","title":"Generating STAC collections for the CareHeat project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.creating-stac-catalog-from-prr-example","title":"Generating metadata for the SRAL Processing over Land Ice Dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-stac-download-example","title":"ESA Project Results Repository (PRR) Data Access and Collections Preview","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-stac-introduction","title":"Generating STAC metadata for the OHC 4d Atlantic dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.prr-zarr","title":"Generating STAC metadata for the YIPEEO project","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.sen4amazonas","title":"Sen4Amazonas: Time-Series Forest Loss Zarr Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.smartch4-signatures-modified","title":"SmartCH4 project - δ13CH4 signatures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.earthcode.examples.prr.tccas-v2","title":"Generating STAC metadatas for the TCCAS dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/example-viewer/build/manifest-3481E987.js";
import * as route0 from "/example-viewer/build/root-7TUVC4ZT.js";
import * as route1 from "/example-viewer/build/routes/$-P6PGXPYX.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/example-viewer/build/entry.client-UNPC4GT3.js");</script></body></html>